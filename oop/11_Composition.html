<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Composition</title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../styles.css" />
        <script type="text/javascript" src="scripts/shCore.js"></script>
        <script type="text/javascript" src="scripts/shBrushBash.js"></script>
        <script type="text/javascript" src="scripts/shBrushCpp.js"></script>
        <script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
        <script type="text/javascript" src="scripts/shBrushCss.js"></script>
        <script type="text/javascript" src="scripts/shBrushDelphi.js"></script>
        <script type="text/javascript" src="scripts/shBrushDiff.js"></script>
        <script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
        <script type="text/javascript" src="scripts/shBrushJava.js"></script>
        <script type="text/javascript" src="scripts/shBrushJScript.js"></script>
        <script type="text/javascript" src="scripts/shBrushPhp.js"></script>
        <script type="text/javascript" src="scripts/shBrushPlain.js"></script>
        <script type="text/javascript" src="scripts/shBrushPython.js"></script>
        <script type="text/javascript" src="scripts/shBrushRuby.js"></script>
        <script type="text/javascript" src="scripts/shBrushScala.js"></script>
        <script type="text/javascript" src="scripts/shBrushSql.js"></script>
        <script type="text/javascript" src="scripts/shBrushVb.js"></script>
        <script type="text/javascript" src="scripts/shBrushXml.js"></script>
        <link type="text/css" rel="stylesheet" href="lecture-notes.css"/>
        <link type="text/css" rel="stylesheet" href="styles/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="styles/shThemeDefault.css"/>
        <script type="text/javascript">
            //SyntaxHighlighter.config.clipboardSwf = 'scripts/clipboard.swf';
            SyntaxHighlighter.defaults['toolbar'] = false;
            SyntaxHighlighter.defaults['auto-links'] = false;
 
            SyntaxHighlighter.all();
        </script>
        <script type="text/JavaScript">
            //courtesy of BoogieJack.com
            function killCopy(e){
            return false
            }
            function reEnable(){
            return true
            }
            document.onselectstart=new Function ("return false")
            if (window.sidebar){
            document.onmousedown=killCopy
            document.onclick=reEnable
            }

        </script>
</head>
</head>

<body>
 
<div id="container">
<div id="header"><h1>Object Oriented Programming <img align="right" src="../logo-dark.png" alt="Amrita"> </h1> </div>
  <div id="wrapper">
    <div id="content">

<table align="right">
  <td align="left"><a href="10_Javadoc.html">Prev</a></td>
  <td align="right"><a href="12_Inheritance.html">Next</a></td>
</table>

<h2>Composition</h2>

<p>Composition is a way to combine simple objects or data types into more complex classes. 
Compositions are a critical building block of software development.</p>

<p>Composition is about expressing relationships between objects. Think about the chair example. 
A chair has a seat. A chair has a back. And a chair has a set of legs. The phrase "has a" implies 
a relationship where the chair owns, or at minimum, uses, another object. It is this "has a" 
relationship which is the basis for composition.</p>

<h3>Composing one object inside another</h3>

<p>Now that we have created the Point class we can use it to construct a larger class.</p>

<p>We will define a class for Line. A line is defined by two points and hence we need 2
Point instances for a Line class. In Eclipse, right-click on the <i>src</i> folder and
create new class with the name Line.java.</p>

<pre class="brush: java">
public class Line {
  private Point point1;
  private Point point2;

  // Constructor section

  Line() {  // default constructor

      // First create instances of point1 and point2 - assign default coordinates
      this.point1 = new Point();    
      this.point2 = new Point(1,1);
  }

  Line(Point p1, Point p2) {  // A constructor which takes 2 points as arguments
      this.point1 = p1;
      this.point2 = p2;
  }

  Line(int x1, int y1, int x2, int y2) {  // Another constructor which takes 
                                        // x- and y-coordinates as arguments
      this.point1 = new Point(x1,y1);
      this.point2 = new Point(x2,y2);
  }
}
</pre>

<p><b>Exercises: Implement the following features.</b></p>

<p style="color: blue">Important Instructions before you proceed to implement.</p>

<p>1. Implement each functionality, test it out with the driver code, then the next functionality 
with its driver, so on and so forth. Your mantra should be: <b>One functionality at a time.</b></p>

<p>2. Try to reuse the existing code to the best possible extent. You already have class that 
  implements several methods. Use them to the hilt. <b>Don't reinvent the wheel.</b></p>

<p>Here is a general guideline to add and test each feature. Let's say you implemented a method 
<i>someFeature()</i> in Line class, implement corresponding method in Driver class, say 
<i>testSomeFeature()</i>, and invoke it in <i>main()</i> to ensure the feature is working properly. 
You can implement more than one test case for a feature if it is needed. See below for the model 
you have to follow.</p>

<table align="center">
  <tr align="center">
    <td><b>Line.java</b></td>
    <td><b>LineTest.java</b></td>
  </tr>
  <tr>
    <td>
      <pre class="brush: java">
      public class Line {
        private Point point1;
        private Point point2;

        Line() {
          // Your code here
        }

        Line(Point p, Point q) {
          // Your code here
        }

        Line(int x1, int y1, int x2, int y2) {
          // Your code here
        }

        public Point getPoint1() {
          // Your code here
        }

        public Point getPoint2() {
          // Your code here
        }

        public void setPoint1(Point r) {
          // Your code here
        }

        public void setPoint2(Point r) {
          // Your code here
        }

        public double slope() {
          // Your code here
          // Invoke Point's slope()
        }

        public int distance() {
          // Your code here
          // Invoke Point's distance()
        }

        public String equation() {
          // Your code here
          // Invoke Point's equation()
        }

        public boolean isOnTheLine(Point r) {
          // Your code here
        }

        public boolean isLeft(Point r) {
          // Your code here
        }

        public boolean isRight(Point r) {
          // Your code here
        }

      /* Let AB be the line & C be the point.
          Compute sign of determinant(AB,AC). 
          - If = 0, then c on the line AB
          - If > 0, then c on the left
          - If < 0, then c on the right
        which implies determinant() method
        has to be implemented. */

        public double determinant (Point A
                      Point B, Point C) {
          // Use the below formula
          &Delta; = (B.x - A.x)*(C.y - A.y) 
          - (B.y - A.y)*(C.x - A.x)
        }
      }

      </pre>
    </td>
    <td>
      <pre class="brush: java">
      public class LineTest {
        public static void main(
                    String[] args) {
          Driver d = new Driver();
          d.testConstructor1();
          d.testConstructor2();
          d.testConstructor3();

          d.testSetPoint1();
          d.testSetPoint2();
          d.testGetPoint1();
          d.testGetPoint2();

          d.testSlope();
          d.testdistance();
          d.testEquation();
          d.testIsOnTheLine();
          d.testIsLeft();
          d.testIsRight();
        }

        void testConstructor1() {
          // Your test code here
        }

        void testConstructor2() {
          // Your test code here
        }

        void testConstructor3() {
          // Your test code here
        }

        void testSetPoint1() {
          // Your test code here
        }

        void testSetPoint2() {
          // Your test code here
        }

        void testGetPoint1() {
          // Your test code here
        }

        void testGetPoint2() {
          // Your test code here
        }

        void testSlope() {
          // Your test code here
        }

        void testEquation() {
          // Your test code here
        }

        void testIsOnTheLine() {
          // Your test code here
        }

        void testIsLeft() {
          // Your test code here
        }

        void testIsRight() {
          // Your test code here
        }

        /* If more test cases are
          needed for a feature, add.
          Goal: Thorough testing => 
          reliable code. */
      }
      </pre>
      
    </td>
  </tr>
</table>


<p>In addition, you can implement equals() and toString() methods. Also, you can think of more
features and implement (and test) them.</p>

<h3>How should you implement the test methods?</h3>

<p>An sample implementation of a test case can be as follows:</p>

<pre class="brush: java">
  public void testSlope() {
      Line line = new Line(new Point(1,3), new Point(2,8));
      
      // Compare computed output with expected output
      if (line.slope() == 5)
          System.out.println("testSlope passed");
      else
          System.out.println("testSlope failed");
  }
</pre>

<p>Since LineDriver's main() method calls all the test methods one by one, at the end of the
execution, the status of each test method will be printed to the console. This can be used
for focusing on flaws in the implementation.</p>

<p>In practical scenarios, one test case for each feature is terribly inadequate. For instance, the
slope computation may need to be tested with different set of coordinates. You will need to include
more test methods for each feature. It is not uncommon that your driver code is much longer than the
implementation. In fact it has to be so if your implementation has to be reliable.</p>

<h4>More exercises</h4>

<p>1. Define Triangle class and implement the features.</p>
<p>2. Define Quadrilateral class and implement the features.</p>
<p>3. Define Circle class along with its attributes and features.</p>
<p>4. <b>How would you define a Polygon class? It can be any n-gon. Your definition
should incorporate this freedom of having any number of sides.</b> (Hint: Pass the 
size through the constructor and create as many Point instances.).</p>

    </div>
  </div>

  <div id="navigation">
  <p><strong><a href="../index.html">Home</a></strong></p>
    <ul>
      <li><a href="01_intro.html">Introduction</a></li>
      <li><a href="02_Encapsulation.html">Encapsulation</a></li>
      <li><a href="03_Constructors.html">Constructors</a></li>
      <li><a href="04_Adding_Features.html">Adding Features</a></li>
      <li><a href="05_Interactions.html">Adding Interactions</a></li>
      <li><a href="06_Static.html">Static keyword</a></li>
      <li><a href="07_Utility_methods.html">Utility Methods</a></li>
      <li><a href="08_Exercises.html">Exercises</a></li>
      <li><a href="09_Arrays.html">Arrays</a></li>
      <li><a href="10_Javadoc.html">Javadoc</a></li>
      <li><a href="11_Composition.html">Composition</a></li>
      <li><a href="12_Inheritance.html">Inheritance</a></li>
      <li><a href="13_Overriding.html">Overriding</a></li>
      <li><a href="14_Casting.html">Casting</a></li>
      <li><a href="15_Final.html">Final keyword</a></li>
      <li><a href="16_Exceptions.html">Exceptions</a></li>
      <li><a href="17_Interface.html">Interface</a></li>
      <li><a href="18_Abstract_Classes.html">Abstract Classes</a></li>
      <li><a href="19_Organizing_Code.html">Organizing Code</a></li>
      <li><a href="20_InputOutput.html">Input/Output</a></li>
      <li><a href="21_Strings.html">Strings</a></li>
      <li><a href="22_Numbers.html">Numbers</a></li>
      <li><a href="23_Generics.html">Generics</a></li>
      <li><a href="24_Collections.html">Collections</a></li>
      <li><a href="25_InnerClasses.html">Inner Classes</a></li>
      <li><a href="26_Multithreading.html">Multithreading</a></li><li><a href="27_Swings.html">Swings</a></li>
      <li><a href="28_Applets.html">Applets</a></li>
      <li><a href="30_PlantUML.html">Plant UML</a></li>
      <li><a href="Quiz-1.html">Quiz-1</a></li>
      <li><a href="Quiz-2.html">Quiz-2</a></li>
      <li><a href="Quiz-3.html">Quiz-3</a></li>
      <li><a href="Quiz-4.html">Quiz-4</a></li>
      <li><a href="Quiz-5.html">Quiz-5</a></li>
    </ul>
  </div>

  <div id="extra">
  </div>
  <div id="footer", align="right">
    <p>Send comments to swaminathanj@am.amrita.edu</p>
  </div>
</div>
</body>
</html>
