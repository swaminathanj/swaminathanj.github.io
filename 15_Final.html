<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>The final keyword</title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../styles.css" />
        <script type="text/javascript" src="scripts/shCore.js"></script>
        <script type="text/javascript" src="scripts/shBrushBash.js"></script>
        <script type="text/javascript" src="scripts/shBrushCpp.js"></script>
        <script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
        <script type="text/javascript" src="scripts/shBrushCss.js"></script>
        <script type="text/javascript" src="scripts/shBrushDelphi.js"></script>
        <script type="text/javascript" src="scripts/shBrushDiff.js"></script>
        <script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
        <script type="text/javascript" src="scripts/shBrushJava.js"></script>
        <script type="text/javascript" src="scripts/shBrushJScript.js"></script>
        <script type="text/javascript" src="scripts/shBrushPhp.js"></script>
        <script type="text/javascript" src="scripts/shBrushPlain.js"></script>
        <script type="text/javascript" src="scripts/shBrushPython.js"></script>
        <script type="text/javascript" src="scripts/shBrushRuby.js"></script>
        <script type="text/javascript" src="scripts/shBrushScala.js"></script>
        <script type="text/javascript" src="scripts/shBrushSql.js"></script>
        <script type="text/javascript" src="scripts/shBrushVb.js"></script>
        <script type="text/javascript" src="scripts/shBrushXml.js"></script>
        <link type="text/css" rel="stylesheet" href="lecture-notes.css"/>
        <link type="text/css" rel="stylesheet" href="styles/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="styles/shThemeDefault.css"/>
        <script type="text/javascript">
            //SyntaxHighlighter.config.clipboardSwf = 'scripts/clipboard.swf';
            SyntaxHighlighter.defaults['toolbar'] = false;
            SyntaxHighlighter.defaults['auto-links'] = false;
 
            SyntaxHighlighter.all();
        </script>
        <script type="text/JavaScript">
            //courtesy of BoogieJack.com
            function killCopy(e){
            return false
            }
            function reEnable(){
            return true
            }
            document.onselectstart=new Function ("return false")
            if (window.sidebar){
            document.onmousedown=killCopy
            document.onclick=reEnable
            }

        </script>
</head>
</head>

<body>
 
<div id="container">
<div id="header"><h1>Object Oriented Programming <img align="right" src="../logo-dark.png" alt="Amrita"> </h1> </div>
  <div id="wrapper">
    <div id="content">

<table align="right">
  <td align="left"><a href="14_Casting.html">Prev</a></td>
  <td align="right"><a href="16_Exceptions.html">Next</a></td>
</table>

<h2>The final keyword</h2>

<p>The keyword <b>final</b> restricts the modifiability of attributes, methods or class when applied
to them. It is primarily used to prevent any intentional or non-intentional modification.</p>

<h3>1. Final attributes</h3>

<p>An attribute is declared 'final' if it should remain a constant during the entire execution. For 
example, the value of <b>pi</b> is fixed and should not be allowed to change. See example below:</p>

<pre class="brush: java">
  public class Circle {
    protected int radius;
    protected Point center;
    protected final float pi = 3.14;  // Cannot be modified

    public double area() {
      // Your code here
    }

    public double circumference() {
      // Your code here
    }
  }
</pre>

<p>Note: Since pi value remains constant throughout, it is better to declare it as:</p>
<ul>
  <li><b>static</b> so that it can be accessed by the class name without the need to instantiate.</li>
  <li><b>public</b> so that it can be accessed direclty without having to invoke any methods.</li>
</ul>

<pre class="brush: java">
  public static final float pi = 3.14; // can be accessed by Circle.pi
</pre>

<p><b>Exercise</b>: Try reassigning the pi value in your source code and check what happens.</p>

<h3>2. Final methods</h3>

<p>A final method cannot be overriden. In a sense, its method of operation remains the same and cannot be 
changed in future. It is useful when you don't want the feature to be twisted. For example,</p>

<pre class="brush: java">
  public final double area() {
      return pi * r * r;
  }
</pre>

<p>will prevent the user of this class from twisting its behavior by giving an incorrect formula.
If it is not final, it is possible for an user to twist its behavior as follows.</p>

<pre class="brush: java">
  public class CircleX extends Circle {
    public void area() {    // overriding Circle's area()
      return pi * r;        // An incorrect formula
    }
  }
</pre>

<p>Any method implementing an universally accepted behavior must be declared final.</p>

<p><b>Exercise</b>: Try overriding a final method and check what happens.</p>

<h3>3. Final class</h3>

<p>The keyword final, when applied to a class, prevents the class from being extended. Typically,
a class is declared final if all the methods in the class should not be overriden. Rather than
declaring every method as final, it is convenient to declare the class a final.</p>

<p>The String class of the Java library is a final class. It is referred to as <b>immutable</b> 
since</p>
<ol>
  <li>It is declared final and hence none of its methods can be twisted.</li>
  <li>None of its methods alter its own state. i.e. each operation will return a new String object
  with the required effect, but will never alter its state.</li>
</ol>

<p><b>Exercise</b>: Try extending a final class and check what happens.</p>

    </div>
  </div>

  <div id="navigation">
  <p><strong><a href="../index.html">Home</a></strong></p>
    <ul>
      <li><a href="01_intro.html">Introduction</a></li>
      <li><a href="02_Encapsulation.html">Encapsulation</a></li>
      <li><a href="03_Constructors.html">Constructors</a></li>
      <li><a href="04_Adding_Features.html">Adding Features</a></li>
      <li><a href="05_Interactions.html">Adding Interactions</a></li>
      <li><a href="06_Static.html">Static keyword</a></li>
      <li><a href="07_Utility_methods.html">Utility Methods</a></li>
      <li><a href="08_Exercises.html">Exercises</a></li>
      <li><a href="09_Arrays.html">Arrays</a></li>
      <li><a href="10_Javadoc.html">Javadoc</a></li>
      <li><a href="11_Composition.html">Composition</a></li>
      <li><a href="12_Inheritance.html">Inheritance</a></li>
      <li><a href="13_Overriding.html">Overriding</a></li>
      <li><a href="14_Casting.html">Casting</a></li>
      <li><a href="15_Final.html">Final keyword</a></li>
      <li><a href="16_Exceptions.html">Exceptions</a></li>
      <li><a href="17_Interface.html">Interface</a></li>
      <li><a href="18_Abstract_Classes.html">Abstract Classes</a></li>
      <li><a href="19_Organizing_Code.html">Organizing Code</a></li>
      <li><a href="20_InputOutput.html">Input/Output</a></li>
      <li><a href="21_Strings.html">Strings</a></li>
      <li><a href="22_Numbers.html">Numbers</a></li>
      <li><a href="23_Generics.html">Generics</a></li>
      <li><a href="24_Collections.html">Collections</a></li>
      <li><a href="25_InnerClasses.html">Inner Classes</a></li>
      <li><a href="26_Multithreading.html">Multithreading</a></li><li><a href="27_Swings.html">Swings</a></li>
      <li><a href="28_Applets.html">Applets</a></li>
    </ul>
  </div>

  <div id="extra">
  </div>
  <div id="footer", align="right">
    <p>Send comments to swaminathanj@am.amrita.edu</p>
  </div>
</div>
</body>
</html>
